# Refer to https://gqlgen.com/config/ for detailed .gqlgen.yml documentation.

schema:
  - "graphql/schema/types/*.graphql"
  - "graphql/schema/*.graphql"
exec:
  filename: internal/api/generated_exec.go
model:
  filename: internal/api/generated_models.go
resolver:
  filename: internal/api/resolver.go
  type: Resolver

struct_tag: gqlgen

autobind:
  - github.com/stashapp/stash/pkg/models
  - github.com/stashapp/stash/pkg/plugin
  - github.com/stashapp/stash/pkg/scraper
  - github.com/stashapp/stash/internal/identify
  - github.com/stashapp/stash/internal/dlna
  - github.com/stashapp/stash/pkg/scraper/stashbox

models:
  # Scalars
  ID:
    model:
      - github.com/99designs/gqlgen/graphql.ID
      - github.com/99designs/gqlgen/graphql.IntID
      - github.com/stashapp/stash/pkg/models.FileID
      - github.com/stashapp/stash/pkg/models.FolderID
  Int64:
    model: github.com/99designs/gqlgen/graphql.Int64
  Timestamp:
    model: github.com/stashapp/stash/internal/api.Timestamp
  # define to force resolvers
  Image:
    model: github.com/stashapp/stash/pkg/models.Image
    fields:
      title:
        resolver: true
  # override models, from internal/api/models.go
  BaseFile:
    model: github.com/stashapp/stash/internal/api.BaseFile
  GalleryFile:
    model: github.com/stashapp/stash/internal/api.GalleryFile
    fields:
      # override fingerprint field
      fingerprints:
        fieldName: FingerprintSlice
  VideoFile:
    fields:
      # override fingerprint field
      fingerprints:
        fieldName: FingerprintSlice
      # override float fields - #1572
      duration:
        fieldName: DurationFinite
      frame_rate:
        fieldName: FrameRateFinite
  ImageFile:
    fields:
      # override fingerprint field
      fingerprints:
        fieldName: FingerprintSlice
  # renamed types
  BulkUpdateIdMode:
    model: github.com/stashapp/stash/pkg/models.RelationshipUpdateMode
  ScanMetaDataFilterInput:
    model: github.com/stashapp/stash/pkg/models.ScanMetadataFilterInput
  DLNAStatus:
    model: github.com/stashapp/stash/internal/dlna.Status
  DLNAIP:
    model: github.com/stashapp/stash/internal/dlna.Dlnaip
  IdentifySource:
    model: github.com/stashapp/stash/internal/identify.Source
  IdentifyMetadataTaskOptions:
    model: github.com/stashapp/stash/internal/identify.Options
  IdentifyMetadataInput:
    model: github.com/stashapp/stash/internal/identify.Options
  IdentifyMetadataOptions:
    model: github.com/stashapp/stash/internal/identify.MetadataOptions
  IdentifyFieldOptions:
    model: github.com/stashapp/stash/internal/identify.FieldOptions
  IdentifyFieldStrategy:
    model: github.com/stashapp/stash/internal/identify.FieldStrategy
  ScraperSource:
    model: github.com/stashapp/stash/pkg/scraper.Source
  # rebind inputs to types
  StashIDInput:
    model: github.com/stashapp/stash/pkg/models.StashID
  IdentifySourceInput:
    model: github.com/stashapp/stash/internal/identify.Source
  IdentifyFieldOptionsInput:
    model: github.com/stashapp/stash/internal/identify.FieldOptions
  IdentifyMetadataOptionsInput:
    model: github.com/stashapp/stash/internal/identify.MetadataOptions
  ScraperSourceInput:
    model: github.com/stashapp/stash/pkg/scraper.Source
  
